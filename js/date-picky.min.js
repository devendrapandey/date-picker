!function(e){"use strict";var a=new Date,t=a.getFullYear(),r=a.getMonth(),i=a.getDate(),s=["Su","Mo","Tu","We","Th","Fr","Sa"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=function(e,a){return new Date(a,e,0).getDate()},d={setTable:function(a,t,r){var i=e("<table/>",{"class":"datePicker-calendar"}),s=e("<div/>",{"class":"table-overlay"});return a=d.setHeading(a,t,r),a.append(i),r.disableClickEvent&&i.append(s),i=d.setDays(i,r.setWeekHoliday,r.holiday),i=d.setDates(i,t,r),r.singleCalendarMode||r.showCurrentDateButton&&(a=d.setFooter(a,t,r)),a},formatDate:function(e){return e>=1&&9>=e&&(e="0"+e),e},formattedDate:function(e,a,t,r){return e+r+a+r+t},getDateFormat:function(a,t){var r,i=e(a).attr("date-value").split("-");return"DD/MM/YYYY"==t.format?r=d.formattedDate(i[2],i[1],i[0],"/"):"MM/DD/YYYY"==t.format?r=d.formattedDate(i[1],i[2],i[0],"/"):"DD-MM-YYYY"==t.format?r=d.formattedDate(i[2],i[1],i[0],"-"):"mm-dd-yy"==t.format?r=d.formattedDate(i[1],i[2],i[0],"-"):"YYYY-MM-DD"==t.format?r=d.formattedDate(i[0],i[1],i[2],"-"):"D MMM, YYYY"==t.format?r=i[2]+" "+l[parseInt(i[1])-1]+", "+i[0]:"D MMMM, YYYY"==t.format?r=i[2]+" "+n[parseInt(i[1])-1]+", "+i[0]:jQuery.error("The defined date format is not supported "+t.format+" ."),r},setValue:function(a,t,r){var i=d.getDateFormat(t,r);r.multipleDate?""!==e(a).val()?e(a).val(e(a).val()+", "+i):e(a).val(i):(e(a).val(i),c.removeDatePicker(a)),r.callback?(r.callback.call(this,e(t).attr("date-value")),r.preDatesOnlyClickable||e(t).toggleClass("active")):e(t).toggleClass("active")},setHeading:function(a,i,s){var l=e("<div/>",{"class":"calendar-heading"}),o=e("<div/>",{"class":"month-title"}),c=e("<div/>",{"class":"next",title:"Next Month"}),f=e("<div/>",{"class":"prev",title:"Previous Month"});return o.text(n[r]+" "+t),s.singleCalendarMode?l.append(o):(l.append(f),l.append(o),l.append(c),o.css({width:"calc(100% - 40px)","float":"left"})),c.click(function(e){a.empty(),r>=11?(r=0,t+=1):r+=1,a=d.setTable(a,i,s)}),f.click(function(){a.empty(),0>=r?(r=11,t-=1):r-=1,a=d.setTable(a,i,s)}),a.append(l)},setFooter:function(s,n,l){var o=e("<div/>",{"class":"footer-wrapper"});return o.text("Go to current date"),o.on("click",function(){s.empty(),t=a.getFullYear(),r=a.getMonth(),i=a.getDate(),s=d.setTable(s,n,l)}),s.append(o)},checkForMinDate:function(e,a,t,r,i){return a<i[2]?e.addClass("disabled"):a==i[2]&&(t<i[1]?e.addClass("disabled"):t==i[1]&&r<i[0]&&e.addClass("disabled")),e},checkForMaxDate:function(e,a,t,r,i){return a>i[2]?e.addClass("disabled"):a==i[2]&&(t>i[1]?e.addClass("disabled"):t==i[1]&&r>i[0]&&e.addClass("disabled")),e},checkForPreDates:function(e,a,t,r,i,s){for(var n=0;n<i.length;n++)i[n][0]==a&&i[n][1]==t&&i[n][2]==r&&(s||e.addClass("disabled"),e.addClass("active"));return e},setDates:function(a,s,n){var l,c,f=[];if(n.minDate&&(l=n.minDate.split("/")),n.maxDate&&(c=n.maxDate.split("/")),n.preDates)for(u=0;u<n.preDates.length;u++)f[u]=n.preDates[u].split("-");for(var u=1;u<=o(r+1,t);u){for(var D=e("<tr/>",{"class":"row-"+u}),p=new Date(t,r,1).getDay(),v=1;7>=v;v++,u++){var m=e("<td/>",{"class":"curr-month-date"});if(1==u){var h=o(r,t),k=r,g=t;0>=r&&(k=12,g=t-1);for(var C=p-1;C>=0;C--){var b=e("<td/>",{"class":"prev-month-date"});n.minDate&&(b=d.checkForMinDate(b,g,k,parseInt(h)-C,l)),n.maxDate&&(b=d.checkForMaxDate(b,g,k,parseInt(h)-C,c)),n.preDates&&(b=d.checkForPreDates(b,g,k,parseInt(h)-C,f,n.preDatesClickable)),b.attr("date-value",g+"-"+d.formatDate(k)+"-"+d.formatDate(parseInt(h)-C)),b.text(h-C),D.append(b),v++,b.on("click",function(a){e(a.target).hasClass("disabled")||d.setValue(s,this,n)})}}else if(u>o(r+1,t)){var y=1,M=r+2,Y=t;r>=11&&(M=1,Y=t+1);for(var C=D.children().length;7>C;C++,y++){var x=e("<td/>",{"class":"next-month-date"});n.minDate&&(x=d.checkForMinDate(x,Y,M,y,l)),n.maxDate&&(x=d.checkForMaxDate(x,Y,M,y,c)),n.preDates&&(x=d.checkForPreDates(x,Y,M,y,f,n.preDatesClickable)),x.attr("date-value",Y+"-"+d.formatDate(M)+"-"+d.formatDate(y)),x.text(y),D.append(x),v++,x.on("click",function(a){e(a.target).hasClass("disabled")||d.setValue(s,this,n)})}break}if(n.showCurrentDate&&u==i){var F=new Date;r==F.getMonth()&&t==F.getFullYear()&&m.addClass("today")}7==v&&"saturday"==n.holiday.toLowerCase()?n.setWeekHoliday&&m.addClass("red"):1==v&&"sunday"==n.holiday.toLowerCase()&&n.setWeekHoliday&&m.addClass("red"),n.minDate&&(m=d.checkForMinDate(m,t,parseInt(r)+1,u,l)),n.maxDate&&(m=d.checkForMaxDate(m,t,parseInt(r)+1,u,c)),n.preDates&&(m=d.checkForPreDates(m,t,parseInt(r)+1,u,f,n.preDatesClickable)),m.attr("date-value",t+"-"+d.formatDate(parseInt(r)+1)+"-"+d.formatDate(u)),m.text(u),m.click(function(a){e(a.target).hasClass("disabled")||d.setValue(s,this,n)}),D.append(m)}a.append(D)}return a},setDays:function(a,t,r){for(var i=e("<tr/>",{"class":"col"}),n=0;n<s.length;n++){var l=e("<th/>");l.text(s[n]),i.append(l)}return t&&"saturday"==r.toLowerCase()?i.children().last().addClass("red"):t&&i.children().first().addClass("red"),a.append(i),a}},c={setDatePicker:function(a,t){var r=e("<div/>",{"class":"datePicker"});r=d.setTable(r,a,t),r.addClass("animated "+t.animation),"onClick"==t.activation&&r.css({background:t.bodyBackground}),r.insertAfter(e(a)),"onClick"==t.activation&&(e(a).parent().css({position:"relative"}),r.css({position:"absolute",marginTop:"5px",top:" 100%",zIndex:4})),r.animate({opacity:1},300)},removeDatePicker:function(a){e(a).next(".datePicker").animate({opacity:0},150,function(){e(a).next(".datePicker").remove()})}};e.fn.datePicky=function(a){var t=this,r={multipleDate:!0,format:"YYYY-MM-DD",animation:"",bodyBackground:"#fff",showCurrentDate:!0,activation:"alwaysOn",singleCalendarMode:!1,preDatesClickable:!1,preDatesOnlyClickable:!1,showCurrentDateButton:!0,disableClickEvent:!1,setWeekHoliday:!1,holiday:"sunday"},i=e.extend(r,a);"alwaysOn"==i.activation?e(t).next(".datePicker").length<=0&&c.setDatePicker(t,i):(e(t).focus(function(){e(t).next(".datePicker").length<=0&&c.setDatePicker(t,i)}),e(document).click(function(a){var r=e(".datePicker");e(t).is(a.target)||r.is(a.target)||0!=r.find("."+a.target.classList[0]).length||0!=e(r).has(a.target).length||c.removeDatePicker(t)}))}}(jQuery);